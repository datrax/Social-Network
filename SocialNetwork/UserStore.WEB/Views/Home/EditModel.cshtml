@model UserStore.Models.UserModel
<div style="background-color: rgba(255, 255, 255, 0.1); max-width: 550px; margin-left: 20px;">

    <input onclick="Close()" type="button"  name="btnSave" class="btn btn-primary btn-sm center-block" value="X"style="float: right; margin-top: -40px; margin-right: 10px;" />
        <br><br>
        <form id="myForm" enctype="multipart/form-data" class="form-horizontal">
            <fieldset>
                <div >
                    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                    <div id="showErrorMessage" class="text-danger"></div>

                    <!-- Text input-->
                    <div class="form-group">
                        <label class="col-md-4 control-label" for="textinput">Name</label>
                        <div class="col-md-8">
                            @Html.EditorFor(model => model.Name, new { htmlAttributes = new { @class = "form-control input-md", style = "width:93%" } })
                            @Html.ValidationMessageFor(model => model.Name, "", new { @class = "text-danger" })
                        </div>
                    </div>

                    <!-- Text input-->
                    <div class="form-group">
                        <label class="col-md-4 control-label" for="textinput">Surname</label>
                        <div class="col-md-8">
                            @Html.EditorFor(model => model.Surname, new { htmlAttributes = new { @class = "form-control input-md", style = "width:93%" } })
                            @Html.ValidationMessageFor(model => model.Surname, "", new { @class = "text-danger" })
                        </div>
                    </div>

                    <!-- Textarea -->
                    <div class="form-group">
                        <label class="col-md-4 control-label" for="textinput">URL</label>
                        <div class="col-md-8">
                            @Html.EditorFor(model => model.Login, new { htmlAttributes = new { @class = "form-control input-md", style = "width:93%" } })
                            @Html.ValidationMessageFor(model => model.Login, "", new { @class = "text-danger" })
                        </div>
                    </div>
                </div>



                <div class="form-group">
                    <div class="full-width2"style="margin-left: 22px;">

                        <label class="col-md-4 control-label" style="margin-top: 15px;">Avatar</label>
                        <div class="col-md-8">
                            <input type="file" id="base-input" class="form-control form-control2 form-input form-style-base image-preview2" name="uploadImage">
                            <input type="text" id="fake-input" class="form-control form-control2 form-input form-style-fake" placeholder="Pick photo" readonly>
                            <span class="glyphicon glyphicon-open input-place"></span>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="full-width" style="margin-left: 22px;">

                        <label class="col-md-4 control-label" style="margin-top: 15px;">Theme</label>
                        <div class="col-md-8">
                            <input type="file" id="base-input2" class="form-control form-control2 form-input form-style-base image-preview3" name="themeImage">
                            <input type="text" id="fake-input2" class="form-control form-control2 form-input form-style-fake" placeholder="Pick photo" readonly>
                            <span class="glyphicon glyphicon-open input-place"></span>
                        </div>
                    </div>
                </div>
    <!-- Button (Double) -->
    <div class="form-group">
        <div class="col-sm-6 col-sm-offset-4">
            <input onclick="addUserInfo()" type="button" id="btnSave" name="btnSave" class="btn btn-primary btn-sm center-block" value="Save"/>
           
        </div>
    </div>
    @Html.HiddenFor(a => a.Id)

    </fieldset>
    </form>

</div>

<script>
    function addUserInfo() {
        var form = $('#myForm');
        var formData = new FormData(form[0]);
        $.ajax({
            url: '@Url.Action("UploadImages", "Home")',
            type: 'Post',
            data: formData,
            contentType: false,
            processData: false,
            success: function(data) {
                if (data.result == 'Redirect')
                    window.location = data.url;
                else {
                    sweetAlert(data.responseText);
                    // $("#showErrorMessage").append(data.responseText);
                }
            }
        });
    }
    function Close() {
        $("#divparent1").hide();
    }
</script>
<style>
    .full-width {
        float: left;
        width: 80%;
        margin-top: 10px;
          margin-left: -10px;
        min-height: 100px;
        position: relative;

    }
        .full-width2 {
        float: left;
        width: 80%;
        margin-top: 00px;
          margin-left: -10px;
        min-height: 50px;
        position: relative;

    }
    .form-style-fake {
        position: absolute;
        top: 0px;
    }

    .form-style-base {
        position: absolute;
        top: 0px;
        z-index: 999;
        opacity: 0;
    }

    .form-control2 {
        padding: 10px 30px;
    }

    .form-input {
        height: 30px;
        border-radius: 0px;
        margin-top: 20px;

    }

    .input-place {
        position: absolute;
        top: 20px;
        left: 20px;
        font-size: 23px;
        color: gray;
    }
</style>
<script>
        $('input[id=base-input]').change(function () {
            $('#fake-input').val($(this).val().replace("C:\\fakepath\\", ""));

        });
        $('input[id=base-input2]').change(function () {
            $('#fake-input2').val($(this).val().replace("C:\\fakepath\\", ""));

        });


        $(document).on('click', '#close-preview2', function () {
            $('.image-preview2').popover('hide');
            // Hover befor close the preview
            $('.image-preview2').hover(
                function () {
                    $('.image-preview2').popover('show');
                },
                 function () {
                     $('.image-preview2').popover('hide');
                 }
            );
        });
        $(function () {
            // Create the close button
            var closebtn = $('<button/>', {
                type: "button",
                text: 'x',
                id: 'close-preview2',
                style: 'font-size: initial;',
            });
            closebtn.attr("class", "close pull-right");
            // Set the popover default content
            $('.image-preview2').popover({
                trigger: 'manual',
                html: true,
                title: "<strong>Preview</strong>" + $(closebtn)[0].outerHTML,
                content: "There's no image",
                placement: 'bottom'
            });
            // Clear event
            $('.image-preview2-clear2').click(function () {
                $('.image-preview2').attr("data-content", "").popover('hide');
                $('.image-preview2-filename2').html("");
                $('.image-preview2-input input:file').val("");
                $(".image-preview2-input-title2").text("Browse");
            });

            $("#base-input").change(function () {
                var img = $('<img/>', {
                    id: 'dynamic',
                    width: 250,
                    height: 200
                });
                var file = this.files[0];
                var reader = new FileReader();
                // Set preview image into the popover data-content
                reader.onload = function (e) {
                    $(".image-preview2-input-title2").text("Change");
                    $(".image-preview2-clear2").show();
                    $(".image-preview2-filename2").html(file.name);
                    img.attr('src', e.target.result);
                    $(".image-preview2").attr("data-content", $(img)[0].outerHTML).popover("show");
                }
                reader.readAsDataURL(file);
            });
        });


        $(document).on('click', '#close-preview3', function () {
            $('.image-preview3').popover('hide');
            // Hover befor close the preview
            $('.image-preview3').hover(
                function () {
                    $('.image-preview3').popover('show');
                },
                 function () {
                     $('.image-preview3').popover('hide');
                 }
            );
        });
        $(function () {
            // Create the close button
            var closebtn = $('<button/>', {
                type: "button",
                text: 'x',
                id: 'close-preview3',
                style: 'font-size: initial;',
            });
            closebtn.attr("class", "close pull-right");
            // Set the popover default content
            $('.image-preview3').popover({
                trigger: 'manual',
                html: true,
                title: "<strong>Preview</strong>" + $(closebtn)[0].outerHTML,
                content: "There's no image",
                placement: 'bottom'
            });
            // Clear event
            $('.image-preview3-clear3').click(function () {
                $('.image-preview3').attr("data-content", "").popover('hide');
                $('.image-preview3-filename3').html("");
                $('.image-preview3-input input:file').val("");
                $(".image-preview3-input-title3").text("Browse");
            });

            $("#base-input2").change(function () {
                var img = $('<img/>', {
                    id: 'dynamic',
                    width: 250,
                    height: 200
                });
                var file = this.files[0];
                var reader = new FileReader();
                // Set preview image into the popover data-content
                reader.onload = function (e) {
                    $(".image-preview3-input-title3").text("Change");
                    $(".image-preview3-clear3").show();
                    $(".image-preview3-filename3").html(file.name);
                    img.attr('src', e.target.result);
                    $(".image-preview3").attr("data-content", $(img)[0].outerHTML).popover("show");
                }
                reader.readAsDataURL(file);
            });
        });

</script>